<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Formations en Gestion de Projet ‚Äî Inscription</title>
<link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;600;700&family=DM+Sans:wght@300;400;500;600&display=swap" rel="stylesheet">
<style>
  :root {
    --navy: #0f1e35;
    --navy-mid: #1a3154;
    --gold: #c49a3c;
    --gold-light: #e8c878;
    --cream: #f5f0e8;
    --cream-dark: #ede7d9;
    --white: #ffffff;
    --gray: #6b7280;
    --gray-light: #f3f4f6;
    --error: #9b2226;
  }

  * { margin: 0; padding: 0; box-sizing: border-box; }

  body {
    font-family: 'DM Sans', sans-serif;
    background: var(--cream);
    color: var(--navy);
    min-height: 100vh;
  }

  /* ---- HERO ---- */
  .hero { background: var(--navy); position: relative; overflow: hidden; }

  .hero::before {
    content: '';
    position: absolute; inset: 0;
    background: 
      radial-gradient(ellipse 80% 60% at 70% 50%, rgba(196,154,60,0.12) 0%, transparent 70%),
      repeating-linear-gradient(45deg, transparent, transparent 40px, rgba(255,255,255,0.015) 40px, rgba(255,255,255,0.015) 41px);
  }

  .hero-inner {
    position: relative; z-index: 1;
    max-width: 1100px; margin: 0 auto;
    padding: 60px 40px 50px;
    display: grid;
    grid-template-columns: 1fr 420px;
    gap: 60px;
    align-items: center;
  }

  .hero-badge {
    display: inline-flex; align-items: center; gap: 8px;
    background: rgba(196,154,60,0.15);
    border: 1px solid rgba(196,154,60,0.3);
    color: var(--gold-light);
    font-size: 11px; font-weight: 600; letter-spacing: 0.12em; text-transform: uppercase;
    padding: 6px 14px; border-radius: 2px; margin-bottom: 24px;
  }

  .hero-badge::before {
    content: ''; width: 6px; height: 6px;
    background: var(--gold); border-radius: 50%;
    animation: pulse 2s infinite;
  }

  @keyframes pulse {
    0%, 100% { opacity: 1; transform: scale(1); }
    50% { opacity: 0.5; transform: scale(1.4); }
  }

  .hero h1 {
    font-family: 'Playfair Display', serif;
    font-size: clamp(28px, 3.5vw, 42px); font-weight: 700;
    color: var(--white); line-height: 1.25; margin-bottom: 20px;
  }

  .hero h1 span { color: var(--gold-light); font-style: italic; }

  .hero-desc { font-size: 15px; color: rgba(255,255,255,0.65); line-height: 1.7; margin-bottom: 36px; max-width: 480px; }

  .hero-stats { display: flex; gap: 32px; }
  .stat { display: flex; flex-direction: column; }
  .stat-number { font-family: 'Playfair Display', serif; font-size: 26px; font-weight: 700; color: var(--gold-light); line-height: 1; }
  .stat-label { font-size: 12px; color: rgba(255,255,255,0.45); margin-top: 4px; }

  /* ---- HERO QUICK-ACCESS CARD ---- */
  .quick-card {
    background: var(--white); border-radius: 4px; overflow: hidden;
    box-shadow: 0 24px 80px rgba(0,0,0,0.35);
  }

  .quick-card-header {
    background: var(--gold); padding: 20px 28px;
    display: flex; align-items: center; gap: 12px;
  }

  .quick-card-icon {
    width: 36px; height: 36px;
    background: rgba(255,255,255,0.2); border-radius: 50%;
    display: flex; align-items: center; justify-content: center; font-size: 16px;
  }

  .quick-card-header h3 { font-family: 'Playfair Display', serif; font-size: 17px; font-weight: 600; color: var(--navy); }
  .quick-card-header p { font-size: 12px; color: rgba(15,30,53,0.65); margin-top: 1px; }

  .quick-card-body { padding: 20px 28px; }

  .quick-item {
    display: flex; align-items: center; gap: 10px;
    padding: 11px 14px; border: 1.5px solid #e0ddd7;
    border-radius: 3px; cursor: pointer;
    background: var(--gray-light);
    font-size: 13px; color: var(--navy);
    transition: all 0.2s; margin-bottom: 8px;
  }

  .quick-item:last-child { margin-bottom: 0; }
  .quick-item:hover { border-color: var(--gold); background: #fffbf0; transform: translateX(3px); }
  .quick-item-price { margin-left: auto; font-size: 12px; font-weight: 600; color: var(--gold); }

  /* ---- FORMATIONS SECTION ---- */
  .formations-section { max-width: 1100px; margin: 0 auto; padding: 70px 40px; }

  .section-label { font-size: 11px; font-weight: 700; letter-spacing: 0.15em; text-transform: uppercase; color: var(--gold); margin-bottom: 12px; }
  .section-title { font-family: 'Playfair Display', serif; font-size: clamp(24px, 3vw, 34px); font-weight: 700; color: var(--navy); margin-bottom: 12px; }
  .section-subtitle { font-size: 15px; color: var(--gray); max-width: 520px; line-height: 1.7; margin-bottom: 48px; }

  .formations-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(240px, 1fr)); gap: 24px; }

  .formation-card {
    background: var(--white); border-radius: 4px; overflow: hidden;
    border: 1px solid #e8e0d0; transition: all 0.3s; cursor: pointer;
  }

  .formation-card:hover {
    transform: translateY(-5px);
    box-shadow: 0 20px 56px rgba(15,30,53,0.14);
    border-color: var(--gold);
  }

  .fcard-top { background: var(--navy); padding: 22px 22px 18px; position: relative; }
  .fcard-top .number {
    font-family: 'Playfair Display', serif; font-size: 48px; font-weight: 700;
    color: rgba(255,255,255,0.06); position: absolute; top: 8px; right: 14px; line-height: 1;
  }
  .fcard-icon {
    width: 44px; height: 44px; background: rgba(196,154,60,0.15); border-radius: 3px;
    display: flex; align-items: center; justify-content: center; font-size: 22px; margin-bottom: 14px;
  }
  .fcard-top h3 { font-family: 'Playfair Display', serif; font-size: 15px; font-weight: 600; color: var(--white); line-height: 1.4; }

  .fcard-body { padding: 18px 22px 20px; }
  .fcard-body p { font-size: 13px; color: var(--gray); line-height: 1.65; margin-bottom: 14px; }

  .formation-tags { display: flex; flex-wrap: wrap; gap: 6px; margin-bottom: 16px; }
  .tag {
    font-size: 10px; font-weight: 600; letter-spacing: 0.05em; text-transform: uppercase;
    color: var(--navy-mid); background: var(--cream-dark); padding: 3px 8px; border-radius: 2px;
  }

  .card-cta-btn {
    display: flex; align-items: center; justify-content: center; gap: 8px;
    width: 100%; padding: 10px 14px;
    background: var(--navy); color: var(--white);
    border: none; border-radius: 3px;
    font-family: 'DM Sans', sans-serif; font-size: 13px; font-weight: 600;
    cursor: pointer; transition: all 0.2s;
  }

  .card-cta-btn:hover { background: var(--gold); color: var(--navy); }

  /* ---- HOW IT WORKS ---- */
  .steps-section { background: var(--navy); padding: 70px 40px; }
  .steps-inner { max-width: 1100px; margin: 0 auto; }
  .steps-inner .section-label { color: var(--gold); }
  .steps-inner .section-title { color: var(--white); }
  .steps-inner .section-subtitle { color: rgba(255,255,255,0.5); }

  .steps-grid { display: grid; grid-template-columns: repeat(4, 1fr); gap: 32px; position: relative; }
  .steps-grid::before {
    content: ''; position: absolute; top: 22px; left: 10%; right: 10%; height: 1px;
    background: linear-gradient(90deg, transparent, var(--gold) 20%, var(--gold) 80%, transparent);
    opacity: 0.3;
  }
  .step { text-align: center; }
  .step-num {
    width: 44px; height: 44px; border-radius: 50%;
    background: rgba(196,154,60,0.15); border: 1.5px solid var(--gold);
    color: var(--gold-light); font-family: 'Playfair Display', serif; font-size: 18px; font-weight: 700;
    display: flex; align-items: center; justify-content: center; margin: 0 auto 18px;
  }
  .step h4 { font-family: 'Playfair Display', serif; font-size: 15px; color: var(--white); margin-bottom: 8px; }
  .step p { font-size: 13px; color: rgba(255,255,255,0.45); line-height: 1.65; }

  footer { background: #080e18; padding: 32px 40px; text-align: center; }
  footer p { font-size: 12px; color: rgba(255,255,255,0.25); }
  footer strong { color: var(--gold); }

  /* ============ FORMATION DETAIL MODAL ============ */
  .fmodal-overlay {
    position: fixed; inset: 0;
    background: rgba(8,14,24,0.9);
    z-index: 1000;
    display: none; align-items: flex-start; justify-content: center;
    padding: 24px 16px; overflow-y: auto;
    backdrop-filter: blur(6px);
  }

  .fmodal-overlay.show { display: flex; }

  .fmodal {
    background: var(--white); border-radius: 6px;
    width: 100%; max-width: 860px;
    overflow: hidden;
    animation: fmodalIn 0.35s cubic-bezier(0.34,1.56,0.64,1);
    margin: auto; position: relative;
  }

  @keyframes fmodalIn {
    from { opacity: 0; transform: scale(0.92) translateY(28px); }
    to { opacity: 1; transform: scale(1) translateY(0); }
  }

  .fmodal-close {
    position: absolute; top: 14px; right: 14px;
    width: 34px; height: 34px; border-radius: 50%;
    background: rgba(255,255,255,0.18); border: none; color: white;
    font-size: 17px; cursor: pointer;
    display: flex; align-items: center; justify-content: center;
    transition: background 0.2s; z-index: 10;
  }
  .fmodal-close:hover { background: rgba(255,255,255,0.35); }

  .fmodal-header {
    background: var(--navy); padding: 36px 40px 28px; position: relative; overflow: hidden;
  }
  .fmodal-header::after {
    content: ''; position: absolute; inset: 0;
    background: radial-gradient(ellipse 60% 80% at 90% 50%, rgba(196,154,60,0.15), transparent);
  }
  .fmodal-header-inner { position: relative; z-index: 1; }

  .fmodal-tag {
    display: inline-block;
    background: rgba(196,154,60,0.2); color: var(--gold-light);
    font-size: 10px; font-weight: 700; letter-spacing: 0.12em; text-transform: uppercase;
    padding: 4px 10px; border-radius: 2px; margin-bottom: 12px;
  }

  .fmodal-header h2 {
    font-family: 'Playfair Display', serif;
    font-size: clamp(20px, 3vw, 28px); color: var(--white); font-weight: 700;
    line-height: 1.3; margin-bottom: 10px;
  }

  .fmodal-header p { font-size: 13px; color: rgba(255,255,255,0.55); line-height: 1.7; max-width: 520px; }

  .fmodal-meta {
    display: flex; gap: 20px; margin-top: 18px; flex-wrap: wrap; align-items: center;
  }

  .fmodal-meta-item {
    display: flex; align-items: center; gap: 6px;
    font-size: 12px; color: rgba(255,255,255,0.6);
  }

  .fmodal-price {
    margin-left: auto;
    background: var(--gold); color: var(--navy);
    font-family: 'Playfair Display', serif; font-size: 22px; font-weight: 700;
    padding: 8px 18px; border-radius: 3px; white-space: nowrap;
  }

  /* Two-column modal body */
  .fmodal-body { display: grid; grid-template-columns: 1fr 340px; }

  .fmodal-left { padding: 28px 32px; border-right: 1px solid #ece7de; overflow-y: auto; max-height: 70vh; }

  .fmodal-left h4 {
    font-family: 'Playfair Display', serif; font-size: 14px; color: var(--navy);
    margin-bottom: 14px; padding-bottom: 8px;
    border-bottom: 2px solid var(--gold); display: inline-block;
  }

  .obj-list { list-style: none; margin-bottom: 28px; }
  .obj-list li {
    display: flex; gap: 10px; font-size: 13px; color: var(--navy);
    line-height: 1.6; margin-bottom: 9px;
  }
  .obj-list li::before { content: '‚úì'; color: var(--gold); font-weight: 700; flex-shrink: 0; margin-top: 1px; }

  .mod-list { list-style: none; counter-reset: mod; }
  .mod-list li {
    counter-increment: mod;
    display: flex; gap: 12px; font-size: 13px; color: var(--gray);
    line-height: 1.6; margin-bottom: 8px; padding-bottom: 8px;
    border-bottom: 1px solid #f0ece4;
  }
  .mod-list li:last-child { border-bottom: none; }
  .mod-list li::before {
    content: counter(mod, decimal-leading-zero);
    font-family: 'Playfair Display', serif; font-size: 13px; color: var(--gold); font-weight: 700; flex-shrink: 0;
  }

  /* RIGHT: inscription form */
  .fmodal-right { padding: 28px 24px; background: #fafaf8; }

  .fmodal-right h4 { font-family: 'Playfair Display', serif; font-size: 16px; color: var(--navy); margin-bottom: 4px; }
  .form-sub { font-size: 12px; color: var(--gray); margin-bottom: 18px; line-height: 1.5; }

  .fg { margin-bottom: 13px; }

  .fg label {
    display: block; font-size: 11px; font-weight: 600;
    letter-spacing: 0.06em; text-transform: uppercase;
    color: var(--navy-mid); margin-bottom: 5px;
  }

  .fg label .req { color: var(--gold); }

  .fg input, .fg select {
    width: 100%; padding: 10px 12px;
    border: 1.5px solid #ddd; border-radius: 3px;
    font-family: 'DM Sans', sans-serif; font-size: 13px;
    color: var(--navy); background: var(--white);
    transition: all 0.2s; outline: none;
  }

  .fg input:focus, .fg select:focus {
    border-color: var(--gold); box-shadow: 0 0 0 3px rgba(196,154,60,0.12);
  }

  .fg input.err { border-color: var(--error); background: #fff5f5; }

  .errmsg { font-size: 11px; color: var(--error); margin-top: 4px; display: none; }
  .errmsg.show { display: block; }

  .ph-group { display: flex; gap: 8px; }
  .ph-group select { width: 95px; flex-shrink: 0; }
  .ph-group input { flex: 1; }

  .pay-btn {
    width: 100%; padding: 13px 14px;
    background: var(--gold); color: var(--navy);
    border: none; border-radius: 3px;
    font-family: 'DM Sans', sans-serif; font-size: 14px; font-weight: 700;
    cursor: pointer; transition: all 0.25s; margin-top: 8px;
    display: flex; align-items: center; justify-content: center; gap: 8px;
  }

  .pay-btn:hover { background: var(--gold-light); transform: translateY(-1px); box-shadow: 0 8px 24px rgba(196,154,60,0.4); }
  .pay-btn:active { transform: translateY(0); }

  .secure-note {
    display: flex; align-items: center; justify-content: center; gap: 5px;
    font-size: 11px; color: var(--gray); margin-top: 10px;
  }

  /* SUCCESS MODAL */
  .success-overlay {
    position: fixed; inset: 0;
    background: rgba(8,14,24,0.92); z-index: 2000;
    display: none; align-items: center; justify-content: center;
    backdrop-filter: blur(6px);
  }

  .success-overlay.show { display: flex; }

  .success-modal {
    background: var(--white); border-radius: 4px;
    padding: 48px 40px; max-width: 460px; width: 90%;
    text-align: center;
    animation: fmodalIn 0.35s ease;
  }

  .success-check {
    width: 72px; height: 72px;
    background: linear-gradient(135deg, var(--gold), var(--gold-light));
    border-radius: 50%;
    display: flex; align-items: center; justify-content: center;
    margin: 0 auto 24px; font-size: 32px;
  }

  .success-modal h2 { font-family: 'Playfair Display', serif; font-size: 24px; color: var(--navy); margin-bottom: 12px; }
  .success-modal p { font-size: 14px; color: var(--gray); line-height: 1.7; margin-bottom: 8px; }

  .wa-btn {
    display: inline-flex; align-items: center; gap: 10px;
    background: #25d366; color: white;
    font-weight: 600; font-size: 14px;
    padding: 12px 24px; border-radius: 3px;
    text-decoration: none; margin-top: 20px; transition: all 0.2s;
  }

  .wa-btn:hover { background: #128c7e; transform: translateY(-1px); box-shadow: 0 8px 24px rgba(37,211,102,0.35); }

  .close-link {
    display: block; margin-top: 12px; font-size: 12px;
    color: var(--gray); cursor: pointer; text-decoration: underline;
  }

  /* RESPONSIVE */
  @media (max-width: 768px) {
    .hero-inner { grid-template-columns: 1fr; padding: 40px 20px; gap: 36px; }
    .formations-section, .steps-section { padding: 50px 20px; }
    .steps-grid { grid-template-columns: 1fr 1fr; }
    .steps-grid::before { display: none; }
    .hero-stats { gap: 20px; }
    .fmodal-body { grid-template-columns: 1fr; }
    .fmodal-left { border-right: none; border-bottom: 1px solid #ece7de; max-height: none; padding: 22px 20px; }
    .fmodal-right { padding: 22px 20px; }
    .fmodal-header { padding: 28px 20px 22px; }
    .fmodal-meta { flex-direction: column; gap: 10px; }
    .fmodal-price { margin-left: 0; }
  }
</style>
</head>
<body>

<!-- HERO -->
<section class="hero">
  <div class="hero-inner">
    <div>
      <div class="hero-badge">Inscriptions ouvertes 2025</div>
      <h1>Ma√Ætrisez la <span>Gestion de Projet</span> avec des experts certifi√©s</h1>
      <p class="hero-desc">4 formations professionnelles con√ßues pour les gestionnaires, coordinateurs et chefs de projet qui veulent piloter leurs projets avec rigueur et impact mesurable.</p>
      <div class="hero-stats">
        <div class="stat"><span class="stat-number">4</span><span class="stat-label">Formations disponibles</span></div>
        <div class="stat"><span class="stat-number">200+</span><span class="stat-label">Participants form√©s</span></div>
        <div class="stat"><span class="stat-number">100%</span><span class="stat-label">Pratique & certifiant</span></div>
      </div>
    </div>

    <div class="quick-card">
      <div class="quick-card-header">
        <div class="quick-card-icon">üìã</div>
        <div>
          <h3>Choisissez votre formation</h3>
          <p>Cliquez pour voir les d√©tails et vous inscrire</p>
        </div>
      </div>
      <div class="quick-card-body">
        <div class="quick-item" onclick="openModal(0)">
          <span>üéØ</span><span style="flex:1">Gestion de Projet</span>
          <span class="quick-item-price">50 000 F</span>
        </div>
        <div class="quick-item" onclick="openModal(1)">
          <span>üìä</span><span style="flex:1">Gestion Ax√©e sur les R√©sultats</span>
          <span class="quick-item-price">55 000 F</span>
        </div>
        <div class="quick-item" onclick="openModal(2)">
          <span>üóìÔ∏è</span><span style="flex:1">Planification & Suivi Op√©rationnel</span>
          <span class="quick-item-price">50 000 F</span>
        </div>
        <div class="quick-item" onclick="openModal(3)">
          <span>üîç</span><span style="flex:1">Suivi & √âvaluation des Projets</span>
          <span class="quick-item-price">55 000 F</span>
        </div>
      </div>
    </div>
  </div>
</section>

<!-- FORMATIONS GRID -->
<section class="formations-section">
  <p class="section-label">Nos programmes</p>
  <h2 class="section-title">4 formations pour exceller dans vos projets</h2>
  <p class="section-subtitle">Des formations pratiques, anim√©es par des experts, con√ßues pour produire des r√©sultats concrets sur le terrain.</p>

  <div class="formations-grid">
    <div class="formation-card" onclick="openModal(0)">
      <div class="fcard-top"><span class="number">01</span><div class="fcard-icon">üéØ</div><h3>Gestion de Projet</h3></div>
      <div class="fcard-body">
        <p>Ma√Ætrisez les fondamentaux de la gestion de projet : cycle de vie, parties prenantes, risques et livrables.</p>
        <div class="formation-tags"><span class="tag">Fondamentaux</span><span class="tag">PMI / Prince2</span><span class="tag">3 jours</span></div>
        <button class="card-cta-btn">üìã Voir le programme & S'inscrire</button>
      </div>
    </div>

    <div class="formation-card" onclick="openModal(1)">
      <div class="fcard-top"><span class="number">02</span><div class="fcard-icon">üìä</div><h3>Gestion Ax√©e sur les R√©sultats</h3></div>
      <div class="fcard-body">
        <p>Orientez vos projets vers des r√©sultats mesurables avec des indicateurs de performance clairs et pertinents.</p>
        <div class="formation-tags"><span class="tag">GAR</span><span class="tag">Indicateurs</span><span class="tag">4 jours</span></div>
        <button class="card-cta-btn">üìã Voir le programme & S'inscrire</button>
      </div>
    </div>

    <div class="formation-card" onclick="openModal(2)">
      <div class="fcard-top"><span class="number">03</span><div class="fcard-icon">üóìÔ∏è</div><h3>Planification & Suivi Op√©rationnel</h3></div>
      <div class="fcard-body">
        <p>Construisez des plans op√©rationnels solides et mettez en place des outils de suivi efficaces au quotidien.</p>
        <div class="formation-tags"><span class="tag">Plan d'action</span><span class="tag">Tableau de bord</span><span class="tag">3 jours</span></div>
        <button class="card-cta-btn">üìã Voir le programme & S'inscrire</button>
      </div>
    </div>

    <div class="formation-card" onclick="openModal(3)">
      <div class="fcard-top"><span class="number">04</span><div class="fcard-icon">üîç</div><h3>Suivi & √âvaluation des Projets</h3></div>
      <div class="fcard-body">
        <p>D√©veloppez des syst√®mes S&E robustes pour mesurer l'impact de vos projets et rendre compte aux bailleurs.</p>
        <div class="formation-tags"><span class="tag">S&E</span><span class="tag">Impact</span><span class="tag">4 jours</span></div>
        <button class="card-cta-btn">üìã Voir le programme & S'inscrire</button>
      </div>
    </div>
  </div>
</section>

<!-- HOW IT WORKS -->
<section class="steps-section">
  <div class="steps-inner">
    <p class="section-label">Comment √ßa marche</p>
    <h2 class="section-title">De l'inscription √† la formation en 4 √©tapes</h2>
    <p class="section-subtitle" style="margin-bottom:52px">Un processus simple et rapide pour rejoindre votre formation.</p>
    <div class="steps-grid">
      <div class="step"><div class="step-num">1</div><h4>Choisissez la formation</h4><p>Cliquez sur la formation qui vous int√©resse pour voir son programme complet.</p></div>
      <div class="step"><div class="step-num">2</div><h4>Remplissez le formulaire</h4><p>Renseignez vos informations personnelles directement dans la fen√™tre.</p></div>
      <div class="step"><div class="step-num">3</div><h4>Payez en ligne</h4><p>Paiement s√©curis√© via Mobile Money (MTN, Orange, Airtel) gr√¢ce √† Mak√©tou.</p></div>
      <div class="step"><div class="step-num">4</div><h4>Rejoignez WhatsApp</h4><p>Recevez le lien du groupe et toutes les ressources de formation.</p></div>
    </div>
  </div>
</section>

<footer>
  <p>¬© 2025 <strong>Centre de Formation en Gestion de Projet</strong> ¬∑ Tous droits r√©serv√©s ¬∑ Brazzaville, Congo</p>
</footer>

<!-- ======= FORMATION DETAIL + INSCRIPTION MODAL ======= -->
<div class="fmodal-overlay" id="fmodalOverlay" onclick="handleBg(event)">
  <div class="fmodal" id="fmodalBox">
    <button class="fmodal-close" onclick="closeModal()">‚úï</button>

    <div class="fmodal-header">
      <div class="fmodal-header-inner">
        <span class="fmodal-tag" id="mTag"></span>
        <h2 id="mTitle"></h2>
        <p id="mDesc"></p>
        <div class="fmodal-meta">
          <div class="fmodal-meta-item">üìÖ <span id="mDuree"></span></div>
          <div class="fmodal-meta-item">üë• <span id="mPublic"></span></div>
          <div class="fmodal-meta-item">üìç <span id="mLieu"></span></div>
          <div class="fmodal-price" id="mPrix"></div>
        </div>
      </div>
    </div>

    <div class="fmodal-body">
      <!-- Programme details -->
      <div class="fmodal-left">
        <h4>Objectifs p√©dagogiques</h4>
        <ul class="obj-list" id="mObjectifs"></ul>

        <h4>Modules du programme</h4>
        <ul class="mod-list" id="mModules"></ul>
      </div>

      <!-- Inscription form -->
      <div class="fmodal-right">
        <h4>S'inscrire maintenant</h4>
        <p class="form-sub">Remplissez le formulaire et proc√©dez au paiement s√©curis√© via Mobile Money</p>

        <form id="mForm" novalidate>
          <input type="hidden" id="mFormationName" />

          <div class="fg">
            <label>Pr√©nom <span class="req">*</span></label>
            <input type="text" id="mP" placeholder="Jean" />
            <p class="errmsg" id="mP-e">Champ requis</p>
          </div>

          <div class="fg">
            <label>Nom <span class="req">*</span></label>
            <input type="text" id="mN" placeholder="Dupont" />
            <p class="errmsg" id="mN-e">Champ requis</p>
          </div>

          <div class="fg">
            <label>Email <span class="req">*</span></label>
            <input type="email" id="mE" placeholder="jean@email.com" />
            <p class="errmsg" id="mE-e">Email invalide</p>
          </div>

          <div class="fg">
            <label>T√©l√©phone <span class="req">*</span></label>
            <div class="ph-group">
              <select id="mInd">
                <option value="+242">üá®üá¨ +242</option>
                <option value="+237">üá®üá≤ +237</option>
                <option value="+243">üá®üá© +243</option>
                <option value="+241">üá¨üá¶ +241</option>
                <option value="+236">üá®üá´ +236</option>
                <option value="+33">üá´üá∑ +33</option>
              </select>
              <input type="tel" id="mT" placeholder="06 123 45 67" />
            </div>
            <p class="errmsg" id="mT-e">Num√©ro requis</p>
          </div>

          <div class="fg">
            <label>Ville / Pays <span class="req">*</span></label>
            <input type="text" id="mV" placeholder="Brazzaville, Congo" />
            <p class="errmsg" id="mV-e">Champ requis</p>
          </div>

          <button type="submit" class="pay-btn">
            <svg width="17" height="17" fill="none" stroke="currentColor" stroke-width="2.5" viewBox="0 0 24 24"><rect x="1" y="4" width="22" height="16" rx="2"/><path d="M1 10h22"/></svg>
            Payer & Confirmer l'inscription
          </button>

          <p class="secure-note">
            <svg width="12" height="12" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><rect x="3" y="11" width="18" height="11" rx="2"/><path d="M7 11V7a5 5 0 0 1 10 0v4"/></svg>
            Paiement s√©curis√© via Mak√©tou ¬∑ Mobile Money
          </p>
        </form>
      </div>
    </div>
  </div>
</div>

<!-- SUCCESS MODAL -->
<div class="success-overlay" id="successOverlay">
  <div class="success-modal">
    <div class="success-check">‚úì</div>
    <h2>Inscription enregistr√©e !</h2>
    <p>Merci <strong id="sPrenom"></strong>, votre inscription √† <br><strong id="sFormation"></strong> est bien re√ßue.</p>
    <p>Vous allez √™tre redirig√© vers la page de paiement Mak√©tou pour finaliser votre inscription.</p>
    <p style="margin-top:12px; font-size:13px; color:#999">Rejoignez d√®s maintenant le groupe WhatsApp des participants :</p>
    <a href="https://chat.whatsapp.com/VOTRE_LIEN_ICI" target="_blank" class="wa-btn">
      <svg width="18" height="18" fill="white" viewBox="0 0 24 24"><path d="M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413z"/></svg>
      Rejoindre le groupe WhatsApp
    </a>
    <span class="close-link" onclick="closeSuccess()">Fermer et continuer vers le paiement</span>
  </div>
</div>

<script>
// ======== DATA ========
const formations = [
  {
    tag: "Formation 01 ¬∑ üéØ",
    titre: "Gestion de Projet",
    desc: "Une formation compl√®te pour ma√Ætriser les fondamentaux de la gestion de projet selon les standards internationaux PMI et PRINCE2. Apprenez √† initier, planifier, ex√©cuter et cl√¥turer vos projets avec m√©thode et rigueur.",
    duree: "3 jours (24h)", public: "Chefs de projet, coordinateurs",
    lieu: "Brazzaville (pr√©sentiel)", prix: "50 000 FCFA",
    objectifs: [
      "Comprendre le cycle de vie d'un projet et ses phases cl√©s",
      "Identifier et g√©rer les parties prenantes d'un projet",
      "√âlaborer une charte de projet et un WBS structur√©",
      "Ma√Ætriser les techniques d'estimation et de planification",
      "G√©rer les risques et les changements en cours de projet",
      "R√©diger des rapports d'avancement efficaces"
    ],
    modules: [
      "Introduction √† la GP ‚Äî concepts et r√©f√©rentiels (PMI, Prince2)",
      "Initiation : charte de projet, parties prenantes, cadrage",
      "Planification : WBS, planning Gantt, ressources et budget",
      "Gestion des risques et analyse des contraintes",
      "Suivi et contr√¥le de l'ex√©cution du projet",
      "Cl√¥ture du projet et retour d'exp√©rience"
    ]
  },
  {
    tag: "Formation 02 ¬∑ üìä",
    titre: "Gestion Ax√©e sur les R√©sultats (GAR)",
    desc: "La GAR est une approche manag√©riale centr√©e sur l'atteinte de r√©sultats mesurables. Cette formation vous donne les outils pour d√©finir des objectifs clairs, mesurer la performance et rendre compte efficacement aux partenaires.",
    duree: "4 jours (32h)", public: "Managers, responsables programmes",
    lieu: "Brazzaville (pr√©sentiel)", prix: "55 000 FCFA",
    objectifs: [
      "Comprendre les principes et la logique de la GAR",
      "Construire une cha√Æne de r√©sultats coh√©rente",
      "D√©finir des indicateurs SMART et mesurables",
      "√âlaborer un cadre logique (logframe) solide",
      "Mettre en place un syst√®me de collecte de donn√©es",
      "Communiquer les r√©sultats aux bailleurs et partenaires"
    ],
    modules: [
      "Fondements de la GAR : origine, principes, logique",
      "La cha√Æne de r√©sultats : intrants, activit√©s, produits, effets, impact",
      "Le cadre logique : construction et lecture",
      "Indicateurs de performance : d√©finition et mesure SMART",
      "Syst√®mes de collecte et gestion de l'information",
      "Rapports de performance et communication des r√©sultats"
    ]
  },
  {
    tag: "Formation 03 ¬∑ üóìÔ∏è",
    titre: "Planification et Suivi Op√©rationnel des Projets",
    desc: "Traduisez les plans strat√©giques en actions concr√®tes et mesurables. Cette formation pratique vous apprend √† √©laborer des plans op√©rationnels d√©taill√©s et √† mettre en ≈ìuvre des outils de suivi efficaces au quotidien.",
    duree: "3 jours (24h)", public: "Coordinateurs, responsables op√©rationnels",
    lieu: "Brazzaville (pr√©sentiel)", prix: "50 000 FCFA",
    objectifs: [
      "√âlaborer un plan de travail annuel (PTA) op√©rationnel",
      "Construire un tableau de bord de suivi adapt√©",
      "D√©finir les jalons et livrables op√©rationnels",
      "Suivre l'avancement physique et financier des activit√©s",
      "Identifier les √©carts et proposer des mesures correctives",
      "Animer les r√©unions de suivi et de coordination"
    ],
    modules: [
      "Du plan strat√©gique au plan op√©rationnel",
      "√âlaboration du Plan de Travail Annuel (PTA)",
      "Outils de planification : Gantt, PERT, jalons",
      "Tableaux de bord et indicateurs op√©rationnels",
      "Suivi de l'avancement physique et financier",
      "Gestion des √©carts et reporting op√©rationnel"
    ]
  },
  {
    tag: "Formation 04 ¬∑ üîç",
    titre: "Suivi & √âvaluation des Projets (S&E)",
    desc: "D√©veloppez des syst√®mes de suivi et √©valuation (S&E) performants pour mesurer l'impact r√©el de vos projets. Formation indispensable pour les professionnels des ONG, bailleurs de fonds et organisations internationales.",
    duree: "4 jours (32h)", public: "Responsables S&E, charg√©s de programme",
    lieu: "Brazzaville (pr√©sentiel)", prix: "55 000 FCFA",
    objectifs: [
      "Concevoir un syst√®me de suivi et √©valuation complet",
      "√âlaborer un plan de S&E et un plan de collecte de donn√©es",
      "Ma√Ætriser les m√©thodes qualitatives et quantitatives d'√©valuation",
      "Analyser les donn√©es et tirer des conclusions pertinentes",
      "R√©diger des rapports d'√©valuation destin√©s aux bailleurs",
      "Utiliser les apprentissages pour am√©liorer les projets futurs"
    ],
    modules: [
      "Introduction au S&E : r√¥les, fonctions et enjeux",
      "Cadre de S&E : indicateurs, sources et fr√©quence de collecte",
      "Plan de collecte de donn√©es et outils de terrain",
      "M√©thodes d'√©valuation : processus, impact, efficacit√©",
      "Analyse et interpr√©tation des donn√©es collect√©es",
      "R√©daction de rapports et capitalisation des apprentissages"
    ]
  }
];

// ======== OPEN MODAL ========
function openModal(i) {
  const f = formations[i];
  document.getElementById('mTag').textContent = f.tag;
  document.getElementById('mTitle').textContent = f.titre;
  document.getElementById('mDesc').textContent = f.desc;
  document.getElementById('mDuree').textContent = f.duree;
  document.getElementById('mPublic').textContent = f.public;
  document.getElementById('mLieu').textContent = f.lieu;
  document.getElementById('mPrix').textContent = f.prix;
  document.getElementById('mFormationName').value = f.titre;

  document.getElementById('mObjectifs').innerHTML = f.objectifs.map(o => `<li>${o}</li>`).join('');
  document.getElementById('mModules').innerHTML = f.modules.map(m => `<li>${m}</li>`).join('');

  // Reset form
  document.getElementById('mForm').reset();
  document.querySelectorAll('.errmsg').forEach(e => e.classList.remove('show'));
  document.querySelectorAll('#mForm input').forEach(e => e.classList.remove('err'));

  document.getElementById('fmodalOverlay').classList.add('show');
  document.body.style.overflow = 'hidden';
}

function closeModal() {
  document.getElementById('fmodalOverlay').classList.remove('show');
  document.body.style.overflow = '';
}

function handleBg(e) {
  if (e.target === document.getElementById('fmodalOverlay')) closeModal();
}

// ======== VALIDATE ========
function validateForm() {
  let ok = true;
  const fields = [
    { id: 'mP', eid: 'mP-e', fn: v => v.trim().length > 1 },
    { id: 'mN', eid: 'mN-e', fn: v => v.trim().length > 1 },
    { id: 'mE', eid: 'mE-e', fn: v => /^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(v) },
    { id: 'mT', eid: 'mT-e', fn: v => v.trim().length > 5 },
    { id: 'mV', eid: 'mV-e', fn: v => v.trim().length > 1 },
  ];
  fields.forEach(f => {
    const el = document.getElementById(f.id);
    const er = document.getElementById(f.eid);
    if (!f.fn(el.value)) { el.classList.add('err'); er.classList.add('show'); ok = false; }
    else { el.classList.remove('err'); er.classList.remove('show'); }
  });
  return ok;
}

['mP','mN','mE','mT','mV'].forEach(id => {
  document.getElementById(id).addEventListener('input', () => document.getElementById(id).classList.remove('err'));
});

// ======== CONFIG BACKEND ========
// ‚û°Ô∏è Remplacez par l'URL de votre serveur Render.com apr√®s d√©ploiement
const BACKEND_URL = 'https://votre-backend.onrender.com';

// Montants par formation (en FCFA)
const MONTANTS = {
  'Gestion de Projet': 50000,
  'Gestion Ax√©e sur les R√©sultats (GAR)': 55000,
  'Planification et Suivi Op√©rationnel des Projets': 50000,
  'Suivi & √âvaluation des Projets (S&E)': 55000,
};

// ======== SUBMIT ========
document.getElementById('mForm').addEventListener('submit', async function(e) {
  e.preventDefault();
  if (!validateForm()) return;

  const prenom    = document.getElementById('mP').value;
  const nom       = document.getElementById('mN').value;
  const email     = document.getElementById('mE').value;
  const indicatif = document.getElementById('mInd').value;
  const telephone = indicatif + document.getElementById('mT').value;
  const ville     = document.getElementById('mV').value;
  const formation = document.getElementById('mFormationName').value;
  const montant   = MONTANTS[formation] || 50000;

  // Afficher spinner
  const btn = document.querySelector('.pay-btn');
  btn.innerHTML = '<span style="opacity:0.7">‚è≥ Connexion au paiement...</span>';
  btn.disabled = true;

  try {
    const response = await fetch(`${BACKEND_URL}/create-payment`, {
      method: 'POST',
      headers: { 'Content-Type': 'application/json' },
      body: JSON.stringify({ prenom, nom, email, telephone, ville, formation, montant }),
    });

    const data = await response.json();

    if (data.success && data.payment_url) {
      // Succ√®s : fermer modal et rediriger vers paiement
      document.getElementById('sPrenom').textContent = prenom;
      document.getElementById('sFormation').textContent = formation;
      closeModal();
      document.getElementById('successOverlay').classList.add('show');

      // Redirection automatique vers Mak√©tou
      setTimeout(() => window.open(data.payment_url, '_blank'), 3000);
    } else {
      alert('Erreur lors de la cr√©ation du paiement. Veuillez r√©essayer.\n\n' + (data.error || ''));
      btn.innerHTML = '<svg width="17" height="17" fill="none" stroke="currentColor" stroke-width="2.5" viewBox="0 0 24 24"><rect x="1" y="4" width="22" height="16" rx="2"/><path d="M1 10h22"/></svg> Payer & Confirmer l\'inscription';
      btn.disabled = false;
    }
  } catch (err) {
    alert('Impossible de contacter le serveur de paiement. V√©rifiez votre connexion.');
    btn.innerHTML = '<svg width="17" height="17" fill="none" stroke="currentColor" stroke-width="2.5" viewBox="0 0 24 24"><rect x="1" y="4" width="22" height="16" rx="2"/><path d="M1 10h22"/></svg> Payer & Confirmer l\'inscription';
    btn.disabled = false;
  }
});

function closeSuccess() {
  document.getElementById('successOverlay').classList.remove('show');
}

document.addEventListener('keydown', e => {
  if (e.key === 'Escape') { closeModal(); }
});
</script>
</body>
</html>
